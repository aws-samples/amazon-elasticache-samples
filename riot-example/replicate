#!/bin/bash

source ./env.sh

cmd_to_run="./bin/riot replicate \
${GLOBAL_DRY_RUN} \
${GLOBAL_DEBUG} \
${GLOBAL_LETTUCE_LOG_LEVEL} \
${GLOBAL_BATCH_COUNT} \
${GLOBAL_PROGRESS} \
${GLOBAL_THREADS} \
${GLOBAL_SLEEP_MS} \
${REPLICATE_LOG_KEYS} \
${REPLICATE_LOG_FILE} \
${REPLICATE_MEM_LIMIT} \
${REPLICATE_READ_QUEUE} \
${REPLICATE_FLUSH_INTERVAL} \
${REPLICATE_SCAN_COUNT} \
${REPLICATE_READ_FROM} \
${REPLICATE_PIPELINE_READ} \
${REPLICATE_SOURCE_CLUSTER} \
${REPLICATE_TARGET_CLUSTER} \
${REPLICATE_MODE} \
${REPLICATE_READ_THREADS} \
${REPLICATE_SOURCE_CLIENT_NAME} \
${REPLICATE_TARGET_CLIENT_NAME} \
${REPLICATE_READ_RETRY} \
${REPLICATE_SOURCE_POOL} \
${REPLICATE_TARGET_POOL} \
${RIOT_SOURCE} \
${RIOT_TARGET}"

echo "Running command:"
echo
echo "$cmd_to_run"
echo
eval "$cmd_to_run"
